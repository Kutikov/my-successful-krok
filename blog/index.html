<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Секції</title>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <meta name="description" content="Секції на XVII Міжнародній науковій конференції студентів, молодих вчених та фахівців 'Актуальні питання сучасної медицини'">
  <meta name="author" content="Damir A. Kutikov, Julia V. Kizurina">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:url"           content="https://kutikov.github.io/my-successful-krok/" />
  <meta property="og:type"          content="website" />
  <meta property="og:title"         content="Секції" />
  <meta property="og:description"   content="Секції на XVII Міжнародній науковій конференції студентів, молодих вчених та фахівців 'Актуальні питання сучасної медицини'" />
  <meta property="og:image"         content="http://medicine.karazin.ua/images/logo.jpg" />

  <link href="main.css?id=124" rel="stylesheet">

</head>

<body>
    <div id="mainHolder" style="display: flex; height: 100%;">
        <div id="mainBackground" class="mainBackground"></div>
        <div id="scrollSource" class="scrollSource">
            <div id="mainCard" class="mainCard">
                <div class="mobileHeader"></div>
                <div id="contentSection">
                    <p id="title" class="title">Заголовок</p>
                    <p id="date" class="date">12 april 2021</p>
                    
                    
                </div>
                <div id="bottomPanel" class="bottomPanel">
                    <div class="bottomPanelLeft">
                        
                    </div>
                    <div id="icon" class="bottomPanelIcon2"></div>
                    <div class="bottomPanelRight">
                        <p id="appname" class="bottomPanelRightTitle">Мой успешный КРОК</p>
                        <p class="bottomPanleRightCopyRight">Damir A. Kutikov © 2018–2021</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="posts.js?id=123" type="text/javascript"></script>
    <script type="text/javascript">
  		const urlParams = new URLSearchParams(window.location.search);
        const language = urlParams.get('language');
        let jsDate = new Date();
        try{
            let dateParts = urlParams.get('date').split("-");
            jsDate = new Date(dateParts[0], dateParts[1] - 1, dateParts[2].substr(0,2));
        }
        catch{
        }
        const localized = [
            {id: "title", ru: "Блог разработчиков", ua: "Блог розробників", en: "Developers` blog"},
            {id: "date", ru: "Выберите интересующий пост", ua: "Оберіть пост, що Вас цікавить", en: "Select post, that is interesting for you"},
        ];
        posts = JSON.parse(postsF);
        for(let i = 0; i < posts.length; i++){
            let postIcon = "M19 5V19H5V5H19M21 3H3V21H21V3M17 17H7V16H17V17M17 15H7V14H17V15M17 12H7V7H17V12Z";
            let downloadIcon = "M14,2L20,8V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2H14M18,20V9H13V4H6V20H18M12,19L8,15H10.5V12H13.5V15H16L12,19Z";
            let guideIcon = "M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z";
            let defaultIcon = "M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z";
            let template = `<a href="!!link!!" class="file_link">
                        <div class="!!style!!" style="width: auto !important">
                            <svg class="file_icon" viewBox="0 0 24 24">
                                <path fill="#004d40" d="!!icon_path!!" />
                            </svg>
                            <div style="display: flex; flex-direction: column; flex-grow:1;">
                                <p class="file_name">!!title!!</p>
                                <p class="post_date">!!date_str!!</p>
                            </div>
                            <svg class="post_chevron" viewBox="0 0 24 24">
                                <path fill="currentColor" d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" />
                            </svg>
                        </div>
                    </a>`;
            switch(posts[i].type){
                case "letter":
                    template = template.replace("!!icon_path!!", postIcon);
                    break;
                case "load":
                    template = template.replace("!!icon_path!!", downloadIcon);
                    break;
                case "guide":
                    template = template.replace("!!icon_path!!", guideIcon);
                    break;
                default:
                    template = template.replace("!!icon_path!!", defaultIcon);
                    break;
            }
            switch(language){
                case "ru":
                    template = template.replace("!!title!!", posts[i].title.ru).replace("!!date_str!!", posts[i].date_str.ru);
                    break;
                case "ua":
                    template = template.replace("!!title!!", posts[i].title.ua).replace("!!date_str!!", posts[i].date_str.ua);
                    break;
                default:
                    template = template.replace("!!title!!", posts[i].title.en).replace("!!date_str!!", posts[i].date_str.en);
                    break;
            }
            template = template.replace("!!link!!", posts[i].link + "?language=" + language + "&date=" + urlParams.get('date'));
            PdateParts = posts[i].date.split("-");
            postDate = new Date(PdateParts[0], PdateParts[1] - 1, PdateParts[2].substr(0,2));
            if(postDate.getTime() < jsDate.getTime()){
                template = template.replace("!!style!!", "file_card");
            }
            else{
                template = template.replace("!!style!!", "file_card new");
            }
            const holder = document.createElement('div');
            holder.innerHTML = template;
            holder.style.marginBottom = '8px';
            document.getElementById("contentSection").appendChild(holder);
        }

        for(let i = 0; i < localized.length; i++){
            let html = localized[i].en;
            switch(language){
                case "ru":
                    html = localized[i].ru;
                    break;
                case "ua":
                    html = localized[i].ua;
                    break;
            }
            if(localized[i].id == "title"){
                document.title = html;
            }
            document.getElementById(localized[i].id).innerHTML = html;
        }
        console.log(jsDate.toDateString());

        function copyToClipboard() {
            const inputc = document.body.appendChild(document.createElement("input"));
            inputc.value = window.location.href;
            inputc.focus();
            inputc.select();
            document.execCommand('copy');
            inputc.parentNode.removeChild(inputc);
        }   
    </script>
</body>
</html>